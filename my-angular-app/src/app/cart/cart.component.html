<div class="min-h-screen bg-gray-50 p-6">
  <h2 class="text-2xl font-semibold mb-6 text-gray-800">üõí Your Cart</h2>

  <!-- Loading -->
  <div *ngIf="loading" class="text-gray-500">Loading cart...</div>

  <!-- Empty cart message -->
  <div *ngIf="!loading && cartItems.length === 0" class="text-center text-gray-500 space-y-4">
    <p>Your cart is empty.</p>

    <!-- üè† Go Home button visible even when empty -->
    <button
      (click)="goHome()"
      class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
    >
      üè† Go to Home
    </button>
  </div>

  <!-- Cart items -->
  <div *ngIf="cartItems.length > 0" class="space-y-4">
    <div
      *ngFor="let item of cartItems"
      class="bg-white shadow rounded-lg p-4 flex items-center justify-between"
    >
      <div class="flex items-center space-x-4">
        <img
          [src]="item.product.imageUrl || 'assets/images/placeholder.png'"
          alt="{{ item.product.name }}"
          class="h-16 w-16 object-cover rounded"
        />
        <div>
          <h3 class="font-semibold text-gray-800">{{ item.product.name }}</h3>
          <p class="text-gray-600 text-sm">‚Çπ{{ item.product.price }}</p>
        </div>
      </div>

      <div class="flex items-center space-x-3">
        <button
          (click)="decreaseQuantity(item)"
          class="bg-gray-200 px-2 rounded hover:bg-gray-300"
        >
          -
        </button>
        <span class="font-medium w-6 text-center">{{ item.quantity }}</span>
        <button
          (click)="increaseQuantity(item)"
          class="bg-gray-200 px-2 rounded hover:bg-gray-300"
        >
          +
        </button>
      </div>

      <div class="w-20 text-right font-semibold text-gray-700">
        ‚Çπ{{ item.product.price * item.quantity }}
      </div>

      <button
        (click)="removeItem(item.product.id!)"
        class="text-red-600 hover:text-red-800 text-sm font-medium"
      >
        ‚úñ
      </button>
    </div>

    <!-- Total -->
    <div
      class="flex justify-between items-center bg-white p-4 rounded-lg shadow mt-6"
    >
      <h3 class="text-lg font-semibold">Total:</h3>
      <p class="text-xl font-bold text-blue-600">‚Çπ{{ totalPrice }}</p>
    </div>

    <!-- Buttons -->
    <div class="flex justify-between mt-4">
      <button
        (click)="goHome()"
        class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
      >
        üè† Go to Home
      </button>

      <div class="flex space-x-4">
        <button
          (click)="clearCart()"
          class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 text-gray-700"
        >
          Clear Cart
        </button>
        <button
          (click)="checkout()"
          class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        >
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>
</div>
